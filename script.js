const quotes = [
    {
      text: "Embrace the now. This instant is all you have. Make it count.",
      audio: "audio/quotes/quote1.mp3"
    },
    {
      text: "Cherish the present. Each moment is a precious gift to unwrap with gratitude.",
      audio: "audio/quotes/quote2.mp3"
    },
    {
      text: "Be fully present. Breathe in the here and now. Exhale the past and future.",
      audio: "audio/quotes/quote3.mp3"
    },
    {
      text: "Live in the moment. The present is where life happens. Engage with it fully.",
      audio: "audio/quotes/quote4.mp3"
    },
    {
      text: "Appreciate the now. This instant is a masterpiece. Witness it with awe.",
      audio: "audio/quotes/quote5.mp3"
    },
    {
      text: "Savor the present. Each moment is a miracle. Appreciate it with mindfulness.",
      audio: "audio/quotes/quote6.mp3"
    },
    {
      text: "Engage with presence. The present is a painting. Color it with your awareness.",
      audio: "audio/quotes/quote7.mp3"
    },
    {
      text: "Immerse yourself in the now. This instant is a symphony. Listen to it with your heart.",
      audio: "audio/quotes/quote8.mp3"
    },
    {
      text: "Nurture the present. Each moment is a seed. Tend to it with intention.",
      audio: "audio/quotes/quote9.mp3"
    },
    {
      text: "Ignite the now. This instant is a flame. Fuel it with your passion.",
      audio: "audio/quotes/quote10.mp3"
    },
    {
      text: "Ride the wave of the present. Each moment is a journey. Enjoy the adventure.",
      audio: "audio/quotes/quote11.mp3"
    },
    {
      text: "Dance with the now. This instant is a rhythm. Move with the flow of life.",
      audio: "audio/quotes/quote12.mp3"
    },
    {
      text: "Uncover the beauty of the present. Each moment is a treasure. Discover its magic.",
      audio: "audio/quotes/quote13.mp3"
    },
    {
      text: "Learn from the now. This instant is a lesson. Gain wisdom from the experience.",
      audio: "audio/quotes/quote14.mp3"
    },
    {
      text: "Reflect on the present. Each moment is a mirror. Look within with clarity.",
      audio: "audio/quotes/quote15.mp3"
    },
    {
      text: "Create with the now. This instant is a canvas. Paint it with your dreams.",
      audio: "audio/quotes/quote16.mp3"
    },
    {
      text: "Sow the seeds of the present. Each moment is fertile ground. Plant your purpose.",
      audio: "audio/quotes/quote17.mp3"
    },
    {
      text: "Ignite the flame of the now. This instant is a spark. Fan it into a vision.",
      audio: "audio/quotes/quote18.mp3"
    },
    {
      text: "Surf the waves of the present. Each moment is a challenge. Ride it with courage.",
      audio: "audio/quotes/quote19.mp3"
    },
    {
      text: "Lead with the heart in the now. This instant is a dance. Move with love.",
      audio: "audio/quotes/quote20.mp3"
    },
    {
      text: "Unearth the potential of the present. Each moment is a treasure trove. Explore its riches.",
      audio: "audio/quotes/quote21.mp3"
    },
    {
      text: "Teach with compassion in the now. This instant is a lesson. Share your wisdom.",
      audio: "audio/quotes/quote22.mp3"
    },
    {
      text: "Reflect with honesty on the present. Each moment is a mirror. Face your truth.",
      audio: "audio/quotes/quote23.mp3"
    },
    {
      text: "Pursue your passions in the now. This instant is a canvas. Create your masterpiece.",
      audio: "audio/quotes/quote24.mp3"
    },
    {
      text: "Embrace the unknown in the present. Each moment is an adventure. Explore with curiosity.",
      audio: "audio/quotes/quote25.mp3"
    },
    {
      text: "Open the gift of the now. This instant is precious. Receive it with joy.",
      audio: "audio/quotes/quote26.mp3"
    },
    {
      text: "Nurture the seeds of the present. Each moment is fertile ground. Water it with love.",
      audio: "audio/quotes/quote27.mp3"
    },
    {
      text: "Fuel the flame of the now. This instant is a spark. Ignite it with your dreams.",
      audio: "audio/quotes/quote28.mp3"
    },
    {
      text: "Ride the waves of the present with grace. Each moment is a challenge. Face it with elegance.",
      audio: "audio/quotes/quote29.mp3"
    },
    {
      text: "Move with the rhythm of your heart in the now. This instant is a dance. Express your soul.",
      audio: "audio/quotes/quote30.mp3"
    },
    {
      text: "Uncover the magic of the present. Each moment is a treasure. Reveal its wonders.",
      audio: "audio/quotes/quote31.mp3"
    },
    {
      text: "Learn with humility from the now. This instant is a lesson. Grow from the experience.",
      audio: "audio/quotes/quote32.mp3"
    },
    {
      text: "Reflect with self-love on the present. Each moment is a mirror. Embrace your reflection.",
      audio: "audio/quotes/quote33.mp3"
    },
    {
      text: "Create with purpose in the now. This instant is a canvas. Paint your vision.",
      audio: "audio/quotes/quote34.mp3"
    },
    {
      text: "Embrace the mystery of the present. Each moment is unknown. Surrender with trust.",
      audio: "audio/quotes/quote35.mp3"
    },
    {
      text: "Unwrap the gift of the now with gratitude. This instant is precious. Appreciate the offering.",
      audio: "audio/quotes/quote36.mp3"
    },
    {
      text: "Nurture the seeds of the present with patience. Each moment is fertile ground. Wait for growth.",
      audio: "audio/quotes/quote37.mp3"
    },
    {
      text: "Ignite the flame of the now with passion. This instant is a spark. Blaze with enthusiasm.",
      audio: "audio/quotes/quote38.mp3"
    },
    {
      text: "Ride the waves of the present with resilience. Each moment is a challenge. Overcome with strength.",
      audio: "audio/quotes/quote39.mp3"
    },
    {
      text: "Move with the rhythm of life in the now. This instant is a dance. Flow with the music.",
      audio: "audio/quotes/quote40.mp3"
    },
    {
      text: "Uncover the beauty of the present with wonder. Each moment is a treasure. Behold its splendor.",
      audio: "audio/quotes/quote41.mp3"
    },
    {
      text: "Learn with wisdom from the now. This instant is a lesson. Gain insight from experience.",
      audio: "audio/quotes/quote42.mp3"
    },
    {
      text: "Reflect with clarity on the present. Each moment is a mirror. See your truth.",
      audio: "audio/quotes/quote43.mp3"
    },
    {
      text: "Create with your dreams in the now. This instant is a canvas. Manifest your vision.",
      audio: "audio/quotes/quote44.mp3"
    },
    {
      text: "Enjoy the journey of the present. Each moment is an adventure. Savor the experience.",
      audio: "audio/quotes/quote45.mp3"
    },
    {
      text: "Open the gift of the now with joy. This instant is precious. Delight in the offering.",
      audio: "audio/quotes/quote46.mp3"
    },
    {
      text: "Sow the seeds of the present with purpose. Each moment is fertile ground. Plant your intention.",
      audio: "audio/quotes/quote47.mp3"
    },
    {
      text: "Ignite the flame of the now with vision. This instant is a spark. Illuminate your path.",
      audio: "audio/quotes/quote48.mp3"
    },
    {
      text: "Ride the waves of the present with courage. Each moment is a challenge. Face it bravely.",
      audio: "audio/quotes/quote49.mp3"
    },
    {
      text: "Lead with your heart in the now. This instant is a dance. Follow your passion.",
      audio: "audio/quotes/quote50.mp3"
    },
    {
      text: "Unearth the potential of the present with curiosity. Each moment is a treasure. Explore its depths.",
      audio: "audio/quotes/quote51.mp3"
    },
    {
      text: "Teach with compassion in the now. This instant is a lesson. Impart your wisdom.",
      audio: "audio/quotes/quote52.mp3"
    },
    {
      text: "Reflect with honesty on the present. Each moment is a mirror. Confront your truth.",
      audio: "audio/quotes/quote53.mp3"
    },
    {
      text: "Pursue your passions in the now with enthusiasm. This instant is a canvas. Create joyfully.",
      audio: "audio/quotes/quote54.mp3"
    },
    {
      text: "Embrace the unknown in the present with trust. Each moment is an adventure. Explore courageously.",
      audio: "audio/quotes/quote55.mp3"
    },
    {
      text: "Open the gift of the now with gratitude. This instant is precious. Cherish the offering.",
      audio: "audio/quotes/quote56.mp3"
    },
    {
      text: "Water the seeds of the present with love. Each moment is fertile ground. Nourish with care.",
      audio: "audio/quotes/quote57.mp3"
    },
    {
      text: "Fuel the flame of the now with your dreams. This instant is a spark. Ignite your vision.",
      audio: "audio/quotes/quote58.mp3"
    },
    {
      text: "Ride the waves of the present with grace and ease. Each moment is a challenge. Face it with poise.",
      audio: "audio/quotes/quote59.mp3"
    },
    {
      text: "Move with the rhythm of your heart in the now. This instant is a dance. Express your authentic self.",
      audio: "audio/quotes/quote60.mp3"
    },
    {
      text: "Uncover the magic of the present with awe. Each moment is a treasure. Marvel at its wonders.",
      audio: "audio/quotes/quote61.mp3"
    },
    {
      text: "Learn with humility from the now. This instant is a lesson. Grow humbly from experience.",
      audio: "audio/quotes/quote62.mp3"
    },
    {
      text: "Reflect with self-love on the present. Each moment is a mirror. Embrace your whole being.",
      audio: "audio/quotes/quote63.mp3"
    },
    {
      text: "Create with purpose in the now. This instant is a canvas. Paint your masterpiece.",
      audio: "audio/quotes/quote64.mp3"
    },
    {
      text: "Embrace the mystery of the present with curiosity. Each moment is unknown. Explore with wonder.",
      audio: "audio/quotes/quote65.mp3"
    },
    {
      text: "Unwrap the gift of the now with joy. This instant is precious. Delight in the present.",
      audio: "audio/quotes/quote66.mp3"
    },
    {
      text: "Nurture the seeds of the present with patience and care. Each moment is fertile ground. Tend to growth.",
      audio: "audio/quotes/quote67.mp3"
    },
    {
      text: "Ignite the flame of the now with passion and conviction. This instant is a spark. Blaze with intensity.",
      audio: "audio/quotes/quote68.mp3"
    },
    {
      text: "Ride the waves of the present with resilience and strength. Each moment is a challenge. Overcome with fortitude.",
      audio: "audio/quotes/quote69.mp3"
    },
    {
      text: "Move with the rhythm of life in the now. This instant is a dance. Flow effortlessly with the music.",
      audio: "audio/quotes/quote70.mp3"
    },
    {
      text: "Uncover the beauty of the present with reverence. Each moment is a treasure. Behold its magnificence.",
      audio: "audio/quotes/quote71.mp3"
    },
    {
      text: "Learn with wisdom from the now. This instant is a lesson. Gain profound insight from experience.",
      audio: "audio/quotes/quote72.mp3"
    },
    {
      text: "Reflect with clarity on the present. Each moment is a mirror. See your truth with precision.",
      audio: "audio/quotes/quote73.mp3"
    },
    {
      text: "Create with your dreams in the now. This instant is a canvas. Manifest your vision with artistry.",
      audio: "audio/quotes/quote74.mp3"
    },
    {
      text: "Enjoy the journey of the present with presence. Each moment is an adventure. Savor the experience fully.",
      audio: "audio/quotes/quote75.mp3"
    },
    {
      text: "Open the gift of the now with joy and appreciation. This instant is precious. Delight in the offering with gratitude.",
      audio: "audio/quotes/quote76.mp3"
    },
    {
      text: "Sow the seeds of the present with purpose and intention. Each moment is fertile ground. Plant your vision with care.",
      audio: "audio/quotes/quote77.mp3"
    },
    {
      text: "Ignite the flame of the now with vision and determination. This instant is a spark. Illuminate your path with resolve.",
      audio: "audio/quotes/quote78.mp3"
    },
    {
      text: "Ride the waves of the present with courage and resilience. Each moment is a challenge. Face it bravely and bounce back.",
      audio: "audio/quotes/quote79.mp3"
    },
    {
      text: "Lead with your heart in the now. This instant is a dance. Follow your passion with authenticity.",
      audio: "audio/quotes/quote80.mp3"
    },
    {
      text: "Unearth the potential of the present with curiosity and wonder. Each moment is a treasure. Explore its depths with awe.",
      audio: "audio/quotes/quote81.mp3"
    },
    {
      text: "Teach with compassion in the now. This instant is a lesson. Impart your wisdom with empathy.",
      audio: "audio/quotes/quote82.mp3"
    },
    {
      text: "Reflect with honesty on the present. Each moment is a mirror. Confront your truth with courage.",
      audio: "audio/quotes/quote83.mp3"
    },
    {
      text: "Pursue your passions in the now with enthusiasm and dedication. This instant is a canvas. Create joyfully and persistently.",
      audio: "audio/quotes/quote84.mp3"
    },
    {
      text: "The present is a rich tapestry. Discover its hidden patterns.",
      audio: "audio/quotes/quote85.mp3"
    },
    {
      text: "This moment is a teacher. Listen to its wisdom with an open heart.",
      audio: "audio/quotes/quote86.mp3"
    },
    {
      text: "The present is a reflection. Examine it with curiosity and kindness.",
      audio: "audio/quotes/quote87.mp3"
    },
    {
      text: "This instant is a blank canvas. Express yourself freely.",
      audio: "audio/quotes/quote88.mp3"
    },
    {
      text: "The present is a series of experiences. Embrace them all.",
      audio: "audio/quotes/quote89.mp3"
    },
    {
      text: "This moment is a treasure. Cherish it with appreciation.",
      audio: "audio/quotes/quote90.mp3"
    },
    {
      text: "The present is a seedling. Nurture it with patience and care.",
      audio: "audio/quotes/quote91.mp3"
    },
    {
      text: "This instant is a spark. Ignite it with your ambition.",
      audio: "audio/quotes/quote92.mp3"
    },
    {
      text: "The present is a wave. Ride it with resilience and strength.",
      audio: "audio/quotes/quote93.mp3"
    },
    {
      text: "This moment is a dance. Lead it with your heart.",
      audio: "audio/quotes/quote94.mp3"
    },
    {
      text: "The present is a mystery. Unravel it with wonder.",
      audio: "audio/quotes/quote95.mp3"
    },
    {
      text: "This instant is a lesson. Learn from it with wisdom.",
      audio: "audio/quotes/quote96.mp3"
    },
    {
      text: "The present is a mirror. Reflect on it with clarity.",
      audio: "audio/quotes/quote97.mp3"
    },
    {
      text: "This moment is a canvas. Create your dreams with purpose.",
      audio: "audio/quotes/quote98.mp3"
    },
    {
      text: "The present is a journey. Explore it with curiosity.",
      audio: "audio/quotes/quote99.mp3"
    },
    {
      text: "This instant is a gift. Unwrap it with joy and gratitude.",
      audio: "audio/quotes/quote100.mp3"
    }
];

const quoteContainer = document.getElementById('quote-container');
const audioPlayer = document.getElementById('audio-player');
const canvas = document.getElementById('water-canvas');
const gl = canvas.getContext('webgl');

// Set the canvas size to the window size
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// Vertex shader
const vertexShaderSource = `
    attribute vec2 position;
    void main() {
        gl_Position = vec4(position, 0.0, 1.0);
    }
`;

// Fragment shader (updated)
const fragmentShaderSource = `
    precision highp float;
    uniform float time;
    uniform vec2 resolution;

    // Depth-based color blending
    vec3 getWaterColor(float depth) {
        vec3 shallowColor = vec3(0.5, 0.7, 1.0);
        vec3 deepColor = vec3(0.1, 0.2, 0.3);
        return mix(deepColor, shallowColor, depth);
    }

    // Refraction and distortion
    vec2 getRefractedUv(vec2 uv, float strength) {
        vec2 distortion = vec2(
            sin(uv.x * 10.0 + time * 2.0) * 0.1,
            sin(uv.y * 10.0 + time * 2.0) * 0.1
        );
        return uv + distortion * strength;
    }

    // Reflection
    float getReflectionFactor(float viewAngle) {
        return pow(1.0 - viewAngle, 5.0);
    }

    // Foam and bubbles
    float getFoamFactor(float depth, float viewAngle) {
        return step(0.95, sin(depth * 100.0 + time * 10.0)) * (1.0 - viewAngle);
    }

    // Caustics
    float getCausticsFactor(vec2 uv, float depth) {
        return sin(uv.x * 100.0 + time * 10.0) * sin(uv.y * 100.0 + time * 10.0) * depth;
    }

    void main() {
        vec2 uv = gl_FragCoord.xy / resolution.xy;
        float depth = sin(uv.x * 10.0 + time * 2.0) * 0.1 + sin(uv.y * 10.0 + time * 2.0) * 0.1;

        // Refraction and distortion
        vec2 refractedUv = getRefractedUv(uv, depth * 0.1);
        vec3 waterColor = getWaterColor(depth);

        // Reflection
        float viewAngle = 1.0 - abs(dot(vec2(0.0, 1.0), normalize(vec2(uv - 0.5))));
        float reflectionFactor = getReflectionFactor(viewAngle);

        // Foam and bubbles
        float foamFactor = getFoamFactor(depth, viewAngle);

        // Caustics
        float causticsFactor = getCausticsFactor(refractedUv, depth);

        // Combine all the effects
        vec3 finalColor = mix(waterColor, vec3(1.0), reflectionFactor);
        finalColor += foamFactor * vec3(1.0);
        finalColor += causticsFactor * vec3(1.0, 0.8, 0.5);

        gl_FragColor = vec4(finalColor, 1.0);
    }
`;

// Create and compile the shaders
const vertexShader = gl.createShader(gl.VERTEX_SHADER);
gl.shaderSource(vertexShader, vertexShaderSource);
gl.compileShader(vertexShader);

const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
gl.shaderSource(fragmentShader, fragmentShaderSource);
gl.compileShader(fragmentShader);

// Create the program and link the shaders
const program = gl.createProgram();
gl.attachShader(program, vertexShader);
gl.attachShader(program, fragmentShader);
gl.linkProgram(program);

// Set up the vertex data
const vertices = [-1, -1, -1, 1, 1, -1, 1, 1];
const vertexBuffer = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);
gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);

// Get the position attribute location
const positionLocation = gl.getAttribLocation(program, 'position');
gl.enableVertexAttribArray(positionLocation);
gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);

// Get the time and resolution uniform locations
const timeLocation = gl.getUniformLocation(program, 'time');
const resolutionLocation = gl.getUniformLocation(program, 'resolution');

// Render loop
let lastTime = performance.now();
function render() {
    const currentTime = performance.now();
    const deltaTime = (currentTime - lastTime) / 1000;
    lastTime = currentTime;

    // Update the time uniform
    gl.uniform1f(timeLocation, currentTime / 1000);

    // Update the resolution uniform
    gl.uniform2f(resolutionLocation, canvas.width, canvas.height);

    // Clear the canvas and draw the sky
    gl.clearColor(0.0, 0.0, 0.0, 1.0);
    gl.clear(gl.COLOR_BUFFER_BIT);
    gl.viewport(0, 0, canvas.width, canvas.height);
    gl.useProgram(program);
    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);

    requestAnimationFrame(render);
}

function getRandomQuote() {
    return quotes[Math.floor(Math.random() * quotes.length)];
}

function fadeIn() {
    quoteContainer.style.opacity = 1;
}

function fadeOut() {
    quoteContainer.style.opacity = 0;
}

function repeatQuote() {
    fadeOut();
    setTimeout(() => {
        const quote = getRandomQuote();
        quoteContainer.innerText = quote.text;
        audioPlayer.src = quote.audio;
        audioPlayer.load();
        audioPlayer.play();
        fadeIn();
    }, 4000);
}

document.addEventListener("DOMContentLoaded", () => {
    const quote = getRandomQuote();
    quoteContainer.innerText = quote.text;
    audioPlayer.src = quote.audio;
    audioPlayer.load();
    audioPlayer.play();
    render();
});